workflow:
  id: whiteport-design-workflow
  name: Whiteport Sketch-to-code method
  description: >-
    A design-centric workflow that guides a designer from initial conceptual sketches
    to structured, developer-ready documentation using a team of specialized AI agents.
  type: creative-design
  project_types:
    - conceptual-design
    - user-journey-mapping
    - ui-ux-planning

  sequence:
    - step: ideation_and_strategy
      agent: analyst
      action: create-trigger-map
      notes: "The Analyst helps define business goals and user needs by creating a trigger map. This output serves as the foundation for all design work."

    - step: persona_deep_dive
      agent: analyst
      action: create-individual-personas
      requires: create-trigger-map-output
      notes: "Create separate, detailed persona files with personal context and relationship to core activity. Focus on individual files with rich backgrounds and standardized terminology."

    - step: product_brief_creation
      agent: analyst
      action: create-product-brief
      requires: trigger-map-output, persona-files
      notes: "Create comprehensive product brief that bridges user research with technical requirements. Translates persona insights into platform architecture and development approach."

    - step: scenario_formalization
      agent: pm
      action: create-doc with prd-tmpl
      requires: product-brief-output
      notes: "The PM formalizes the scenarios from the product brief and creates a high-level PRD that includes a list of scenarios. The PM then refrains from creating additional stories related to the interface until some scenario steps or complete scenarios are completed. Strictly backend related Epics and stories are created right away"

    - step: backend_epic_creation
      agent: pm
      action: create-backend-epics-and-stories
      requires: prd.md
      notes: "The PM creates Epics and stories for backend-only work that is not tied to a visual user interaction."
    
    - step: sketch_and_document
      agent: ux-expert
      action: facilitate sketching and documentation
      requires: prd.md
      notes: |
        The UX Expert collaborates with the designer to create and document the sketches.
        The agent manages the file structure, creates synopsis documents, and builds the component library based on the scenarios.

    - step: ui_epic-and-story-creation
      agent: pm
      action: create-ui-epics-and-stories
      requires: finalized-sketches-and-documentation
      notes: |
        The PM returns to the project to break down the finalized conceptual sketches into Epics and stories.
        This ensures that the project plan for user-facing features is aligned with the final visual design.

    - step: handoff-to-development
      agent: bmad-orchestrator
      action: guide handoff
      notes: |
        Once all documentation is completed, the Orchestrator guides the user
        in preparing the project for a handoff to the development agents (Dev, QA) for implementation.

  flow_diagram: |
    ```mermaid
    graph TD
      A[Start: Ideation] --> B[Analyst: create-trigger-map]
      B --> C[Analyst: create-individual-personas]
      C --> D[Analyst: create-product-brief]
      D --> E[PM: create high-level PRD]
      E --> F[PM: create backend Epics]
      F --> G[UX Expert: sketch & document]
      G --> H[PM: create UI Epics & stories from sketches]
      H --> I[Orchestrator: guide handoff to Dev]
      style A fill:#ADD8E6
      style B fill:#FFE4B5
      style C fill:#FFE4B5
      style D fill:#FFE4B5
      style E fill:#ADD8E6
      style F fill:#ADD8E6
      style G fill:#FFE4B5
      style H fill:#ADD8E6
      style I fill:#F0E68C
    ```